{"ast":null,"code":"var _jsxFileName = \"/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/ConfirmEmail.jsx\";\nimport React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nconst ConfirmEmail = () => {\n  var _location$state;\n  const [confirmationCode, setConfirmationCode] = useState('');\n  const location = useLocation();\n  const navigate = useNavigate();\n  const email = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.email;\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/confirm-email', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          confirmationCode\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        navigate('/confirm');\n      } else {\n        alert(data.message || 'Email confirmation failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('An error occurred. Please try again.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirm-email-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Confirm Your Email\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Please enter the confirmation code sent to \", email), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Confirmation Code\",\n    value: confirmationCode,\n    onChange: e => setConfirmationCode(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Confirm Email\")));\n};\nexport default ConfirmEmail;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","ConfirmEmail","_location$state","confirmationCode","setConfirmationCode","location","navigate","email","state","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","success","alert","message","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/ConfirmEmail.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\n\nconst ConfirmEmail = () => {\n  const [confirmationCode, setConfirmationCode] = useState('');\n  const location = useLocation();\n  const navigate = useNavigate();\n  const email = location.state?.email;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/confirm-email', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, confirmationCode }),\n      });\n      const data = await response.json();\n      if (data.success) {\n        navigate('/confirm');\n      } else {\n        alert(data.message || 'Email confirmation failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('An error occurred. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"confirm-email-container\">\n      <h2>Confirm Your Email</h2>\n      <p>Please enter the confirmation code sent to {email}</p>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Confirmation Code\"\n          value={confirmationCode}\n          onChange={(e) => setConfirmationCode(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Confirm Email</button>\n      </form>\n    </div>\n  );\n};\n\nexport default ConfirmEmail;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAG3D,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAA,IAAAC,eAAA;EACzB,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAMO,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAMO,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAMO,KAAK,IAAAL,eAAA,GAAGG,QAAQ,CAACG,KAAK,cAAAN,eAAA,uBAAdA,eAAA,CAAgBK,KAAK;EAEnC,MAAME,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oBAAoB,EAAE;QACjDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEX,KAAK;UAAEJ;QAAiB,CAAC;MAClD,CAAC,CAAC;MACF,MAAMgB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClC,IAAID,IAAI,CAACE,OAAO,EAAE;QAChBf,QAAQ,CAAC,UAAU,CAAC;MACtB,CAAC,MAAM;QACLgB,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,8CAA8C,CAAC;MACvE;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9BF,KAAK,CAAC,sCAAsC,CAAC;IAC/C;EACF,CAAC;EAED,oBACEzB,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,yBAAyB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtCpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,oBAAsB,CAAC,eAC3BpC,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,6CAA2C,EAAC1B,KAAS,CAAC,eACzDV,KAAA,CAAA6B,aAAA;IAAMQ,QAAQ,EAAEzB,YAAa;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BpC,KAAA,CAAA6B,aAAA;IACES,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,mBAAmB;IAC/BC,KAAK,EAAElC,gBAAiB;IACxBmC,QAAQ,EAAG5B,CAAC,IAAKN,mBAAmB,CAACM,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE;IACrDG,QAAQ;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACT,CAAC,eACFpC,KAAA,CAAA6B,aAAA;IAAQS,IAAI,EAAC,QAAQ;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,eAAqB,CACvC,CACH,CAAC;AAEV,CAAC;AAED,eAAehC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module"}