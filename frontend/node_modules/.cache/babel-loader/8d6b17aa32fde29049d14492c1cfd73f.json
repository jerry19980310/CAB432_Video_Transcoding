{"ast":null,"code":"var _jsxFileName = \"/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/UploadForm.jsx\";\nimport React, { useState } from 'react';\nconst UploadForm = () => {\n  const [file, setFile] = useState(null);\n  const [uploadMessage, setUploadMessage] = useState('');\n  const [relatedVideos, setRelatedVideos] = useState([]);\n  const handleFileChange = event => {\n    setFile(event.target.files[0]);\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!file) {\n      setUploadMessage('Please select a file to upload.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('uploadFile', file);\n    fetch('/upload', {\n      method: 'POST',\n      body: formData\n    }).then(response => response.json()).then(data => {\n      if (data.message && data.fileName) {\n        setUploadMessage(`${data.fileName} uploaded successfully!`);\n      }\n      if (data.relatedVideos) {\n        setRelatedVideos(data.relatedVideos);\n      }\n    }).catch(error => {\n      console.error('Error:', error);\n      setUploadMessage('Error uploading file.');\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"48\",\n    height: \"48\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zM10 17.5v-11l8.5 5.5-8.5 5.5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Jerry Video Transcode\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/logout\",\n    className: \"logout-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"upload-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"uploadFile\",\n    className: \"upload-input\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Upload\",\n    className: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"my-videos-button\",\n    onClick: () => window.location.href = '/videolist',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"My Videos\")), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, uploadMessage), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scrollable-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Related YouTube Videos\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, relatedVideos.map(video => /*#__PURE__*/React.createElement(\"li\", {\n    key: video.videoId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"iframe\", {\n    width: \"560\",\n    height: \"315\",\n    src: `https://www.youtube.com/embed/${video.videoId}`,\n    frameBorder: \"0\",\n    title: `YouTube video player: ${video.title}`,\n    allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }, video.title))))));\n};\nexport default UploadForm;","map":{"version":3,"names":["React","useState","UploadForm","file","setFile","uploadMessage","setUploadMessage","relatedVideos","setRelatedVideos","handleFileChange","event","target","files","handleSubmit","preventDefault","formData","FormData","append","fetch","method","body","then","response","json","data","message","fileName","catch","error","console","createElement","className","__self","__source","_jsxFileName","lineNumber","columnNumber","xmlns","viewBox","width","height","fill","d","href","onSubmit","type","name","onChange","value","onClick","window","location","map","video","key","videoId","src","frameBorder","title","allow","allowFullScreen"],"sources":["/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/UploadForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst UploadForm = () => {\n    const [file, setFile] = useState(null);\n    const [uploadMessage, setUploadMessage] = useState('');\n    const [relatedVideos, setRelatedVideos] = useState([]);\n\n    const handleFileChange = (event) => {\n        setFile(event.target.files[0]);\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        if (!file) {\n            setUploadMessage('Please select a file to upload.');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('uploadFile', file);\n\n        fetch('/upload', {\n            method: 'POST',\n            body: formData,\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.message && data.fileName) {\n                    setUploadMessage(`${data.fileName} uploaded successfully!`);\n                }\n\n                if (data.relatedVideos) {\n                    setRelatedVideos(data.relatedVideos);\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                setUploadMessage('Error uploading file.');\n            });\n    };\n\n    return (\n        <div className=\"main-container\">\n            <div className=\"header\">\n                <div className=\"header-icon\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"48\" height=\"48\" fill=\"white\">\n                        <path d=\"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zM10 17.5v-11l8.5 5.5-8.5 5.5z\" />\n                    </svg>\n                </div>\n                <h1>Jerry Video Transcode</h1>\n                <a href=\"/logout\" className=\"logout-button\">Logout</a>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"upload-section\">\n                <input type=\"file\" name=\"uploadFile\" className=\"upload-input\" onChange={handleFileChange} />\n                <input type=\"submit\" value=\"Upload\" className=\"upload-button\" />\n                <button type=\"button\" className=\"my-videos-button\" onClick={() => window.location.href = '/videolist'}>My Videos</button>\n            </form>\n\n            <h2>{uploadMessage}</h2>\n\n            <div className=\"scrollable-container\">\n                <h2>Related YouTube Videos</h2>\n                <ul>\n                    {relatedVideos.map(video => (\n                        <li key={video.videoId}>\n                            <iframe\n                                width=\"560\"\n                                height=\"315\"\n                                src={`https://www.youtube.com/embed/${video.videoId}`}\n                                frameBorder=\"0\"\n                                title={`YouTube video player: ${video.title}`}\n                                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                                allowFullScreen\n                            ></iframe>\n                            <p>{video.title}</p>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default UploadForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}