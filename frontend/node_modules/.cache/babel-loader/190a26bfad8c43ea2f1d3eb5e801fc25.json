{"ast":null,"code":"var _jsxFileName = \"/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/VideoList.jsx\";\nimport React, { useState, useEffect } from 'react';\nconst VideoList = () => {\n  const [videos, setVideos] = useState([]);\n  const [username, setUsername] = useState('');\n\n  // Fetch token from cookies\n  const getTokenFromCookies = () => {\n    var _document$cookie$spli;\n    const cookieValue = (_document$cookie$spli = document.cookie.split('; ').find(row => row.startsWith('token='))) === null || _document$cookie$spli === void 0 ? void 0 : _document$cookie$spli.split('=')[1];\n    return cookieValue || '';\n  };\n\n  // Fetch username from cookies\n  const getUserFromCookies = () => {\n    var _document$cookie$spli2;\n    const cookieValue = (_document$cookie$spli2 = document.cookie.split('; ').find(row => row.startsWith('username='))) === null || _document$cookie$spli2 === void 0 ? void 0 : _document$cookie$spli2.split('=')[1];\n    return cookieValue || '';\n  };\n\n  // Fetch videos function\n  const fetchVideos = () => {\n    const username = getUserFromCookies();\n    const token = getTokenFromCookies();\n    setUsername(username);\n    fetch(`/videos/${username}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => {\n      setVideos(data);\n    }).catch(error => {\n      console.error('There was a problem with the fetch operation:', error);\n    });\n  };\n\n  // Using useEffect to run fetchVideos on component mount\n  useEffect(() => {\n    fetchVideos();\n  }, [fetchVideos]); // Add fetchVideos as a dependency\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Videos uploaded by \", username), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, videos.map(video => /*#__PURE__*/React.createElement(\"li\", {\n    key: video.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `/videoactions/${video.id}`,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"File ID:\"), \" \", video.id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"File Name:\"), \" \", video.shortFileName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"File Size:\"), \" \", video.fileSize, \" bytes\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"File Type:\"), \" \", video.fileExtension), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Upload Date:\"), \" \", video.uploadTime), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Upload Path:\"), \" \", video.uploadPath), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Video Owner:\"), \" \", video.userName)))));\n};\nexport default VideoList;","map":{"version":3,"names":["React","useState","useEffect","VideoList","videos","setVideos","username","setUsername","getTokenFromCookies","_document$cookie$spli","cookieValue","document","cookie","split","find","row","startsWith","getUserFromCookies","_document$cookie$spli2","fetchVideos","token","fetch","headers","Authorization","then","response","ok","Error","json","data","catch","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","video","key","id","href","target","rel","shortFileName","fileSize","fileExtension","uploadTime","uploadPath","userName"],"sources":["/Users/tsaishengwei/Desktop/CAB432/Assignment2/CAB432A2/frontend/src/Components/VideoList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst VideoList = () => {\n  const [videos, setVideos] = useState([]);\n  const [username, setUsername] = useState('');\n\n  // Fetch token from cookies\n  const getTokenFromCookies = () => {\n    const cookieValue = document.cookie\n      .split('; ')\n      .find((row) => row.startsWith('token='))\n      ?.split('=')[1];\n    return cookieValue || '';\n  };\n\n  // Fetch username from cookies\n  const getUserFromCookies = () => {\n    const cookieValue = document.cookie\n      .split('; ')\n      .find((row) => row.startsWith('username='))\n      ?.split('=')[1];\n    return cookieValue || '';\n  };\n\n  // Fetch videos function\n  const fetchVideos = () => {\n    const username = getUserFromCookies();\n    const token = getTokenFromCookies();\n    setUsername(username);\n\n    fetch(`/videos/${username}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then((data) => {\n        setVideos(data);\n      })\n      .catch((error) => {\n        console.error('There was a problem with the fetch operation:', error);\n      });\n  };\n\n  // Using useEffect to run fetchVideos on component mount\n  useEffect(() => {\n    fetchVideos();\n  }, [fetchVideos]); // Add fetchVideos as a dependency\n\n  return (\n    <div className=\"video-list-container\">\n      <h2>Videos uploaded by {username}</h2>\n      <ul>\n        {videos.map((video) => (\n          <li key={video.id}>\n            <div className=\"video-info\">\n              <a href={`/videoactions/${video.id}`} target=\"_blank\" rel=\"noreferrer\">\n                <strong>File ID:</strong> {video.id}\n              </a>\n            </div>\n            <div className=\"video-info\">\n              <strong>File Name:</strong> {video.shortFileName}\n            </div>\n            <div className=\"video-info\">\n              <strong>File Size:</strong> {video.fileSize} bytes\n            </div>\n            <div className=\"video-info\">\n              <strong>File Type:</strong> {video.fileExtension}\n            </div>\n            <div className=\"video-info\">\n              <strong>Upload Date:</strong> {video.uploadTime}\n            </div>\n            <div className=\"video-info\">\n              <strong>Upload Path:</strong> {video.uploadPath}\n            </div>\n            <div className=\"video-info\">\n              <strong>Video Owner:</strong> {video.userName}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default VideoList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}